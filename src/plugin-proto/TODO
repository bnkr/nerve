Real Implementation
-------------------

Turn the existing protocode into a real implementation.

* there could be issues with blocking on output as well as blocking on input
* continue working the existing specification-bits.cpp up to be compilable
* tidy the spec and put it in doc

Integration
-----------

Integrate the code with the config reading parts.  This directory is a huge
mess, so we'll use config-proto for this (actually there will be a third
directory to do the integration).
